sap.ui.define(["pinaki/app/credentialManager/controller/BaseController","sap/ui/model/Filter"],function(e,t){"use strict";return e.extend("pinaki.app.credentialManager.controller.MainView",{onAddCredentialpress:function(){let e=this.getView().getModel().getProperty("/aCreds");let t=JSON.parse(JSON.stringify(this.getView().getModel().getProperty("/crendentialTemplate")));t.lastChanged=new Date;e=[...e,t];this.getView().getModel().setProperty("/aCreds",e);this.getView().getModel().updateBindings();this.getView().getModel().firePropertyChange()},toggleEditMode:function(e){e.getSource().getBindingContext().getObject().editMode=!e.getSource().getBindingContext().getObject().editMode;e.getSource().getBindingContext().getObject().lastChanged=new Date;e.getSource().getModel().updateBindings();e.getSource().getModel().firePropertyChange()},onDeleteCredPress:function(e){var t=e.getSource().getBindingContext().getPath();var i=t.split("/").pop();let r=this.getView().getModel().getProperty("/aCreds");r.splice(i,1);this.getView().getModel().setProperty("/aCreds",r);e.getSource().getModel().updateBindings();e.getSource().getModel().firePropertyChange()},onCredSearch:function(e){var i=this.getView().byId("credList");i.getBinding("items").filter(new t({filters:[new t({path:"name",operator:"Contains",value1:e.getParameter("newValue")}),new t({path:"username",operator:"Contains",value1:e.getParameter("newValue")})],and:false}))},onAfterRendering:function(){this.loadFromLocal()},changeTheme:function(e){sap.ui.getCore().getConfiguration().getTheme()=="sap_fiori_3_dark"?sap.ui.getCore().applyTheme("sap_fiori_3"):sap.ui.getCore().applyTheme("sap_fiori_3_dark")}})});